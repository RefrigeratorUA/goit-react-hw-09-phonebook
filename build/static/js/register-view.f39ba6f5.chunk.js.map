{"version":3,"sources":["components/RegistrationForm/RegistrationForm.js","views/RegisterView.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","components/Notification/Notification.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["RegistrationForm","dispatch","useDispatch","useState","name","setName","email","setEmail","password","setPassword","errorMessage","setErrorMessage","isAuthLoading","useSelector","authSelectors","getAuthLoading","error","getAuthError","onRegister","useCallback","authOperations","register","onClearError","onClearErrorMessage","useEffect","showNotification","handleChange","event","target","value","className","CSSTransition","in","classNames","timeout","unmountOnExit","Notification","onView","message","Loader","onSubmit","preventDefault","type","onChange","disabled","RegisterView","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_typeof","obj","Symbol","iterator","constructor","prototype","_possibleConstructorReturn","self","call","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","result","Super","NewTarget","this","arguments","apply","subClass","superClass","create","protoProps","staticProps","state","setState","setTimeout","prevProps","prevState","Component","_slicedToArray","arr","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray"],"mappings":"gOAQe,SAASA,IACtB,IAAMC,EAAWC,cADwB,EAGjBC,mBAAS,IAHQ,mBAGlCC,EAHkC,KAG5BC,EAH4B,OAIfF,mBAAS,IAJM,mBAIlCG,EAJkC,KAI3BC,EAJ2B,OAKTJ,mBAAS,IALA,mBAKlCK,EALkC,KAKxBC,EALwB,OAMDN,mBAAS,IANR,mBAMlCO,EANkC,KAMpBC,EANoB,KAQnCC,EAAgBC,YAAYC,IAAcC,gBAC1CC,EAAQH,YAAYC,IAAcG,cAElCC,EAAaC,uBACjB,SAACf,EAAME,EAAOE,GAAd,OAA2BP,EAASmB,IAAeC,SAASjB,EAAME,EAAOE,MACzE,CAACP,IAEGqB,EAAeH,uBAAY,kBAAMlB,EAASmB,IAAeG,yBAAwB,CACrFtB,IAGFuB,qBAAU,WACJR,IACFS,EAAiBT,GACjBM,OAED,CAACN,EAAOM,IAEX,IAAMI,EAAeP,uBAAY,SAAAQ,GAAU,IAAD,EAChBA,EAAMC,OAAtBxB,EADgC,EAChCA,KAAMyB,EAD0B,EAC1BA,MACd,OAAQzB,GACN,IAAK,OACHC,EAAQwB,GACR,MACF,IAAK,QACHtB,EAASsB,GACT,MACF,IAAK,WACHpB,EAAYoB,MAKf,IAeGJ,EAAmB,SAAAf,GACvBC,EAAgBD,IAGlB,OACE,qCACE,qBAAKoB,UAAU,uBAAf,SACE,cAACC,EAAA,EAAD,CAAeC,KAAMtB,EAAcuB,WAAW,eAAeC,QAAS,IAAKC,eAAa,EAAxF,SACE,cAACC,EAAA,EAAD,CAAcC,OAAQZ,EAAkBa,QAAS5B,QAIpDE,EACC,cAAC2B,EAAA,EAAD,IAEA,uBAAMC,SA5BS,SAAAb,GAGnB,OAFAA,EAAMc,iBAEDrC,EACAE,EACAE,GAELU,EAAW,CAAEd,OAAME,QAAOE,aAC1BH,EAAQ,IACRE,EAAS,SACTE,EAAY,KALUgB,EAAiB,yBADpBA,EAAiB,sBADlBA,EAAiB,2BAyB/B,UACE,yCAEE,uBACEK,UAAU,QACVY,KAAK,OACLtC,KAAK,OACLyB,MAAOzB,EACPuC,SAAUjB,OAGd,0CAEE,uBACEI,UAAU,QACVY,KAAK,QACLtC,KAAK,QACLyB,MAAOvB,EACPqC,SAAUjB,OAGd,6CAEE,uBACEI,UAAU,QACVY,KAAK,WACLtC,KAAK,WACLyB,MAAOrB,EACPmC,SAAUjB,OAGd,uBACA,wBACEI,UAAU,gBACVY,KAAK,SACLE,UAAYxC,IAASE,IAAUE,KAAeE,EAHhD,4BCpGKmC,UATM,WACnB,OACE,qCACE,uDACA,cAAC7C,EAAD,S,gCCNS,SAAS8C,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCCFxB,SAASC,EAAkBtB,EAAQuB,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAe/B,EAAQ0B,EAAWM,IAAKN,ICNnC,SAASO,EAAgBC,EAAGC,GAMzC,OALAF,EAAkBH,OAAOM,gBAAkB,SAAyBF,EAAGC,GAErE,OADAD,EAAEG,UAAYF,EACPD,IAGcA,EAAGC,GCNb,SAASG,EAAgBJ,GAItC,OAHAI,EAAkBR,OAAOM,eAAiBN,OAAOS,eAAiB,SAAyBL,GACzF,OAAOA,EAAEG,WAAaP,OAAOS,eAAeL,KAEvBA,GCJV,SAASM,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAI9GA,GCXF,SAASK,EAA2BC,EAAMC,GACvD,OAAIA,GAA2B,WAAlBR,EAAQQ,IAAsC,oBAATA,ECHrC,SAAgCD,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIE,eAAe,6DAG3B,OAAOF,EDEA,CAAsBA,GAHpBC,EEDI,SAASE,EAAaC,GACnC,IAAIC,ECJS,WACb,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKZ,UAAUa,SAASV,KAAKK,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOE,GACP,OAAO,GDLuB,GAChC,OAAO,WACL,IACIC,EADAC,EAAQ,EAAeV,GAG3B,GAAIC,EAA2B,CAC7B,IAAIU,EAAY,EAAeC,MAAMnB,YACrCgB,EAASP,QAAQC,UAAUO,EAAOG,UAAWF,QAE7CF,EAASC,EAAMI,MAAMF,KAAMC,WAG7B,OAAO,EAA0BD,KAAMH,I,oDEW5BpD,E,aC1BA,SAAmB0D,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI9C,UAAU,sDAGtB6C,EAASrB,UAAYf,OAAOsC,OAAOD,GAAcA,EAAWtB,UAAW,CACrED,YAAa,CACX3C,MAAOiE,EACPrC,UAAU,EACVD,cAAc,KAGduC,GAAY,EAAeD,EAAUC,G,UTHN/C,EAAaiD,EAAYC,E,uJQP5DC,MAAQ,CACNzF,aAAc,I,SRMmBsC,E,GAAaiD,E,gCQHhD,WAAqB,IAAD,EACUN,KAAKxC,MAAzBd,EADU,EACVA,OAAQC,EADE,EACFA,QAChBqD,KAAKS,SAAS,CAAE1F,aAAc4B,IAC9B+D,YAAW,kBAAMhE,EAAO,MAAK,O,gCAE/B,SAAmBiE,EAAWC,GAAY,IAAD,EACXZ,KAAKxC,MAAzBd,EAD+B,EAC/BA,OAAQC,EADuB,EACvBA,QACR5B,EAAiBiF,KAAKQ,MAAtBzF,aACR,GAAI4B,GAAWA,IAAY5B,EAEzB,OADAiF,KAAKS,SAAS,CAAE1F,aAAc4B,IACvBD,EAAO,M,oBAIlB,WAAU,IACA3B,EAAiBiF,KAAKQ,MAAtBzF,aACR,OAAO,qBAAKoB,UAAU,QAAf,SAAwBpB,SRZjBwC,EAAkBF,EAAYyB,UAAWwB,GACrDC,GAAahD,EAAkBF,EAAakD,G,GQVvBM,c,mGEEZ,SAASC,EAAeC,EAAKtD,GAC1C,OCLa,SAAyBsD,GACtC,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKtD,GACjD,GAAsB,qBAAXkB,QAA4BA,OAAOC,YAAYb,OAAOgD,GAAjE,CACA,IAAIG,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKT,EAAIpC,OAAOC,cAAmBuC,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGrF,QAETuB,GAAKyD,EAAKxD,SAAWD,GAH8C0D,GAAK,IAK9E,MAAOS,GACPR,GAAK,EACLC,EAAKO,EACL,QACA,IACOT,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBH,EAAKtD,IAAM,OAAAoE,EAAA,GAA2Bd,EAAKtD,IGLjF,WACb,MAAM,IAAIH,UAAU,6IHIgF","file":"static/js/register-view.f39ba6f5.chunk.js","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport Notification from '../Notification';\nimport '../Notification/Notification.css';\nimport { authOperations, authSelectors } from '../../redux/auth';\nimport Loader from '../Loader';\n\nexport default function RegistrationForm() {\n  const dispatch = useDispatch();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const isAuthLoading = useSelector(authSelectors.getAuthLoading);\n  const error = useSelector(authSelectors.getAuthError);\n\n  const onRegister = useCallback(\n    (name, email, password) => dispatch(authOperations.register(name, email, password)),\n    [dispatch],\n  );\n  const onClearError = useCallback(() => dispatch(authOperations.onClearErrorMessage()), [\n    dispatch,\n  ]);\n\n  useEffect(() => {\n    if (error) {\n      showNotification(error);\n      onClearError();\n    }\n  }, [error, onClearError]);\n\n  const handleChange = useCallback(event => {\n    const { name, value } = event.target;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n      case 'email':\n        setEmail(value);\n        break;\n      case 'password':\n        setPassword(value);\n        break;\n      default:\n        break;\n    }\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (!name) return showNotification('Please enter user name');\n    if (!email) return showNotification('Please enter email');\n    if (!password) return showNotification('Please enter password');\n\n    onRegister({ name, email, password });\n    setName('');\n    setEmail('');\n    setPassword('');\n  };\n\n  const showNotification = errorMessage => {\n    setErrorMessage(errorMessage);\n  };\n\n  return (\n    <>\n      <div className=\"Notification-wrapper\">\n        <CSSTransition in={!!errorMessage} classNames=\"Notification\" timeout={250} unmountOnExit>\n          <Notification onView={showNotification} message={errorMessage} />\n        </CSSTransition>\n      </div>\n\n      {isAuthLoading ? (\n        <Loader />\n      ) : (\n        <form onSubmit={handleSubmit}>\n          <label>\n            Name\n            <input\n              className=\"input\"\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              onChange={handleChange}\n            ></input>\n          </label>\n          <label>\n            Email\n            <input\n              className=\"input\"\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={handleChange}\n            ></input>\n          </label>\n          <label>\n            Password\n            <input\n              className=\"input\"\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={handleChange}\n            ></input>\n          </label>\n          <br />\n          <button\n            className=\"btn-phonebook\"\n            type=\"submit\"\n            disabled={(!name && !email && !password) || !!errorMessage}\n          >\n            Register\n          </button>\n        </form>\n      )}\n    </>\n  );\n}\n","import RegistrationForm from '../components/RegistrationForm';\n\nconst RegisterView = () => {\n  return (\n    <>\n      <h1>Registration new user</h1>\n      <RegistrationForm />\n    </>\n  );\n};\n\nexport default RegisterView;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import { Component } from 'react';\n\nclass Notification extends Component {\n  state = {\n    errorMessage: '',\n  };\n\n  componentDidMount() {\n    const { onView, message } = this.props;\n    this.setState({ errorMessage: message });\n    setTimeout(() => onView(''), 2000);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { onView, message } = this.props;\n    const { errorMessage } = this.state;\n    if (message && message !== errorMessage) {\n      this.setState({ errorMessage: message });\n      return onView('');\n    }\n  }\n\n  render() {\n    const { errorMessage } = this.state;\n    return <div className=\"alert\">{errorMessage}</div>;\n  }\n}\n\nexport default Notification;\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}