(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{118:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(33),i=n(34),a=n(36),o=n(35),c=n(0),s=n(1),u=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={errorMessage:""},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onView,n=e.message;this.setState({errorMessage:n}),setTimeout((function(){return t("")}),2e3)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.onView,i=n.message,a=this.state.errorMessage;if(i&&i!==a)return this.setState({errorMessage:i}),r("")}},{key:"render",value:function(){var e=this.state.errorMessage;return Object(s.jsx)("div",{className:"alert",children:e})}}]),n}(c.Component)},119:function(e,t,n){},120:function(e,t,n){e.exports={enter:"PhonebookList_enter__fMai1",enterActive:"PhonebookList_enterActive__2NSL6",exit:"PhonebookList_exit__ciGIx",exitActive:"PhonebookList_exitActive__3LMiS"}},122:function(e,t,n){"use strict";n.r(t);var r=n(33),i=n(34),a=n(36),o=n(35),c=n(0),s=n.n(c),u=n(12),l=n(116),d=n(7),b=n(4);var h=n(9),m=(n(5),n(29));function j(e,t){var n=Object.create(null);return e&&c.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(c.isValidElement)(e)?t(e):e}(e)})),n}function f(e,t,n){return null!=n[t]?n[t]:e.props[t]}function p(e,t,n){var r=j(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var c={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var u=i[s][r];c[i[s][r]]=n(u)}c[s]=n(s)}for(r=0;r<a.length;r++)c[a[r]]=n(a[r]);return c}(t,r);return Object.keys(i).forEach((function(a){var o=i[a];if(Object(c.isValidElement)(o)){var s=a in t,u=a in r,l=t[a],d=Object(c.isValidElement)(l)&&!l.props.in;!u||s&&!d?u||!s||d?u&&s&&Object(c.isValidElement)(l)&&(i[a]=Object(c.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:f(o,"exit",e),enter:f(o,"enter",e)})):i[a]=Object(c.cloneElement)(o,{in:!1}):i[a]=Object(c.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:f(o,"exit",e),enter:f(o,"enter",e)})}})),i}var v=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},O=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(h.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,j(n.children,(function(e){return Object(c.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:f(e,"appear",n),enter:f(e,"enter",n),exit:f(e,"exit",n)})}))):p(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=j(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(b.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(d.a)(e,["component","childFactory"]),i=this.state.contextValue,a=v(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(m.a.Provider,{value:i},a):s.a.createElement(m.a.Provider,{value:i},s.a.createElement(t,r,a))},t}(s.a.Component);O.propTypes={},O.defaultProps={component:"div",childFactory:function(e){return e}};var x=O,g=n(37),y=n(1),E=Object(u.b)(null,(function(e){return{onFilterChange:function(t){return e(Object(g.n)(t.target.value))}}}))((function(e){var t=e.onFilterChange;return Object(y.jsxs)("div",{className:"filter",children:[Object(y.jsx)("p",{children:"Find contacts by name"}),Object(y.jsx)("input",{className:"input",type:"text",onChange:t})]})})),C=n(117),N=n(118),k=function(e){var t=e.name,n=e.number,r=e.id,i=e.onDelete;return Object(y.jsxs)("li",{className:"list-item",children:["".concat(t,": "),Object(y.jsx)("span",{children:n}),Object(y.jsx)("button",{type:"button",id:r,onClick:function(e){return i(e.target.id)},children:"Delete"})]})},w=n(120),M=n.n(w),S=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){return this.props.fetchContacts()}},{key:"render",value:function(){var e=this.props,t=e.contacts,n=e.filter,r=e.onDelete,i=e.isLoading,a=e.error,o=e.onClearError;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"Notification-wrapper",children:Object(y.jsx)(l.a,{in:!!a,classNames:"Notification",timeout:250,unmountOnExit:!0,children:Object(y.jsx)(N.a,{onView:o,message:a})})}),i&&Object(y.jsxs)("div",{className:"wrapper-spinner-bs",children:[Object(y.jsx)(C.a,{animation:"border",variant:"primary"}),Object(y.jsx)(C.a,{animation:"border",variant:"success"}),Object(y.jsx)(C.a,{animation:"border",variant:"danger"})]}),(t.length>1||n)&&Object(y.jsx)(E,{}),Object(y.jsx)(x,{component:"ul",className:"list",children:t.map((function(e){var t=e.name,n=e.id,i=e.number;return Object(y.jsx)(l.a,{timeout:250,classNames:M.a,children:Object(y.jsx)(k,{name:t,number:i,id:n,onDelete:r})},n)}))})]})}}]),n}(c.Component),F=Object(u.b)((function(e){return{contacts:g.g.getFilteredContacts(e),filter:g.g.getFilter(e),isLoading:g.g.getLoading(e),error:g.g.getError(e)}}),(function(e){return{fetchContacts:function(){return e(g.e.fetchContacts())},onDelete:function(t){return e(g.e.deleteContact(t))},onClearError:function(){return e(g.e.onClearErrorMessage())}}}))(S),_=n(2),D=(n(119),function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={name:"",number:"",errorMessage:""},e.handleChange=function(t){var n=t.target,r=n.name,i=n.value;e.setState(Object(_.a)({},r,i))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,i=n.number,a=e.props,o=a.onAddContact,c=a.items;return r?i?c.some((function(e){return e.name===r}))?(e.setState({name:"",number:""}),e.showNotification("".concat(r," is already in contacts"))):(o(r,i),void e.setState({name:"",number:""})):e.showNotification("Please enter contact number"):e.showNotification("Please enter contact name")},e.showNotification=function(t){e.setState({errorMessage:t})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,r=e.errorMessage;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"Notification-wrapper",children:Object(y.jsx)(l.a,{in:!!r,classNames:"Notification",timeout:250,unmountOnExit:!0,children:Object(y.jsx)(N.a,{onView:this.showNotification,message:r})})}),Object(y.jsxs)("form",{onSubmit:this.handleSubmit,className:"form-addContact",children:[Object(y.jsxs)("label",{children:["Name",Object(y.jsx)("input",{className:"input",type:"text",name:"name",value:t,onChange:this.handleChange})]}),Object(y.jsxs)("label",{children:["Number",Object(y.jsx)("input",{className:"input",type:"text",name:"number",value:n,onChange:this.handleChange})]}),Object(y.jsx)("br",{}),Object(y.jsx)("button",{className:"btn-phonebook",type:"submit",disabled:!t&&!n||r,children:"Add contact"})]})]})}}]),n}(c.Component)),V=Object(u.b)((function(e){return{items:g.g.getAllContacts(e)}}),(function(e){return{onAddContact:function(t,n){return e(g.e.addContact(t,n))}}}))(D);t.default=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(V,{}),Object(y.jsx)(F,{})]})}}}]);
//# sourceMappingURL=contacts-view.3b7fdf5a.chunk.js.map