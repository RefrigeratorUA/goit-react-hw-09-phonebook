(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{100:function(e,t,n){e.exports={enter:"PhonebookList_enter__fMai1",enterActive:"PhonebookList_enterActive__2NSL6",exit:"PhonebookList_exit__ciGIx",exitActive:"PhonebookList_exitActive__3LMiS"}},102:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(9),i=n(95),a=n(6),u=n(4);var s=n(8),l=(n(20),n(31));function f(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function d(e,t,n){var o=f(e.children),c=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),c=[];for(var i in e)i in t?c.length&&(o[i]=c,c=[]):c.push(i);var a={};for(var u in t){if(o[u])for(r=0;r<o[u].length;r++){var s=o[u][r];a[o[u][r]]=n(s)}a[u]=n(u)}for(r=0;r<c.length;r++)a[c[r]]=n(c[r]);return a}(t,o);return Object.keys(c).forEach((function(i){var a=c[i];if(Object(r.isValidElement)(a)){var u=i in t,s=i in o,l=t[i],f=Object(r.isValidElement)(l)&&!l.props.in;!s||u&&!f?s||!u||f?s&&u&&Object(r.isValidElement)(l)&&(c[i]=Object(r.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:b(a,"exit",e),enter:b(a,"enter",e)})):c[i]=Object(r.cloneElement)(a,{in:!1}):c[i]=Object(r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:b(a,"exit",e),enter:b(a,"enter",e)})}})),c}var p=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},j=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Object(s.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,c=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,o=i,f(n.children,(function(e){return Object(r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):d(e,c,i),firstRender:!1}},n.handleExited=function(e,t){var n=f(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(u.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(a.a)(e,["component","childFactory"]),c=this.state.contextValue,i=p(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(l.a.Provider,{value:c},i):o.a.createElement(l.a.Provider,{value:c},o.a.createElement(t,r,i))},t}(o.a.Component);j.propTypes={},j.defaultProps={component:"div",childFactory:function(e){return e}};var h=j,m=n(36),O=n(1);function v(){var e=Object(c.b)(),t=Object(r.useCallback)((function(t){return e(Object(m.n)(t.target.value))}),[e]);return Object(O.jsxs)("div",{className:"filter",children:[Object(O.jsx)("p",{children:"Find contacts by name"}),Object(O.jsx)("input",{className:"input",type:"text",onChange:t})]})}var y=n(97),x=function(e){var t=e.name,n=e.number,r=e.id,o=e.onDelete;return Object(O.jsxs)("li",{className:"list-item",children:["".concat(t,": "),Object(O.jsx)("span",{children:n}),Object(O.jsx)("button",{type:"button",id:r,onClick:function(e){return o(e.target.id)},children:"Delete"})]})},g=n(100),E=n.n(g),k=n(24);function w(){var e=Object(c.b)(),t=Object(c.c)(m.g.getFilteredContacts),n=Object(c.c)(m.g.getFilter),o=Object(c.c)(m.g.getLoading),a=Object(c.c)(m.g.getError),u=Object(r.useCallback)((function(t){return e(m.e.deleteContact(t))}),[e]),s=Object(r.useCallback)((function(){return e(m.e.onClearErrorMessage())}),[e]);return Object(r.useEffect)((function(){e(m.e.fetchContacts())}),[e]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"Notification-wrapper",children:Object(O.jsx)(i.a,{in:!!a,classNames:"Notification",timeout:250,unmountOnExit:!0,children:Object(O.jsx)(y.a,{onView:s,message:a})})}),o&&Object(O.jsx)(k.a,{animation:"border"}),(t.length>1||n)&&Object(O.jsx)(v,{}),Object(O.jsx)(h,{component:"ul",className:"list",children:t.map((function(e){var t=e.name,n=e.id,r=e.number;return Object(O.jsx)(i.a,{timeout:250,classNames:E.a,children:Object(O.jsx)(x,{name:t,number:r,id:n,onDelete:u})},n)}))})]})}var S=n(99);n(98);function C(){var e=Object(c.b)(),t=Object(r.useState)(""),n=Object(S.a)(t,2),o=n[0],a=n[1],u=Object(r.useState)(""),s=Object(S.a)(u,2),l=s[0],f=s[1],b=Object(r.useState)(""),d=Object(S.a)(b,2),p=d[0],j=d[1],h=Object(c.c)(m.g.getAllContacts),v=Object(r.useCallback)((function(t,n){return e(m.e.addContact(t,n))}),[e]),x=Object(r.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":a(r);break;case"number":f(r)}}),[]),g=Object(r.useCallback)((function(e){return e.preventDefault(),o?l?h.some((function(e){return e.name===o}))?(a(""),f(""),E("".concat(o," is already in contacts"))):(v(o,l),a(""),void f("")):E("Please enter contact number"):E("Please enter contact name")}),[h,o,l,v]),E=function(e){j(e)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"Notification-wrapper",children:Object(O.jsx)(i.a,{in:!!p,classNames:"Notification",timeout:250,unmountOnExit:!0,children:Object(O.jsx)(y.a,{onView:E,message:p})})}),Object(O.jsxs)("form",{onSubmit:g,className:"form-addContact",children:[Object(O.jsxs)("label",{children:["Name",Object(O.jsx)("input",{className:"input",type:"text",name:"name",value:o,onChange:x})]}),Object(O.jsxs)("label",{children:["Number",Object(O.jsx)("input",{className:"input",type:"text",name:"number",value:l,onChange:x})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"btn-phonebook",type:"submit",disabled:!o&&!l||p,children:"Add contact"})]})]})}t.default=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(C,{}),Object(O.jsx)(w,{})]})}},97:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}n.d(t,"a",(function(){return b}));var l=n(0),f=n(1),b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,i,a=s(u);function u(){var e;r(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={errorMessage:""},e}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.onView,n=e.message;this.setState({errorMessage:n}),setTimeout((function(){return t("")}),2e3)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.onView,o=n.message,c=this.state.errorMessage;if(o&&o!==c)return this.setState({errorMessage:o}),r("")}},{key:"render",value:function(){var e=this.state.errorMessage;return Object(f.jsx)("div",{className:"alert",children:e})}}])&&o(t.prototype,n),i&&o(t,i),u}(l.Component)},98:function(e,t,n){},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(35);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,c=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){o=!0,c=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw c}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=contacts-view.3f65a2dd.chunk.js.map